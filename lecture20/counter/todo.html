<html>
    <head>
        <title>Counter</title>

        <script  src="./react.min.js"></script>
        <script  src="./react-dom.min.js"></script>
        <script src="./babel.min.js"></script>

    </head>
    <body>

        <div id="root"></div>
        

        <script type="text/babel">

            function Todo(){
                // what changes?
                // tasks: 
                const [tasks, setTasks] = React.useState([])
                const [response, setResponse] = React.useState("")

                const handleChange = event => {
                    setResponse(event.target.value)
                }

                const handleAdd = () => {
                    // add response to tasks
                    setResponse("")
                    setTasks([...tasks, response])
                }

                const handleDelete = event => {
                    const index = event.target.parentNode.dataset.id
                    // delete task at index
                    // copy tasks
                    const copy = [...tasks]
                    copy.splice(index, 1)
                    setTasks(copy)
                }

                return (
                    <div>
                        <h1>Tasks</h1>
                        <ul>
                            {
                                tasks.map((task, i) => {
                                    return <li data-id={i}>{task} <button onClick={handleDelete}>delete</button></li>
                                })
                            }
                        </ul>
                        <input type="text" value={response} onChange={handleChange}/>
                        <button onClick={handleAdd}>add Task</button>
                    </div>
                )
            }

            function App(){
                return (
                    <>
                        <Todo />
                    </>
                )
            }

         
            const root = ReactDOM.createRoot(document.querySelector("#root"))
            root.render(<App />)
            

        </script>
    </body>
</html>