<html>
    <head>
        <title>Post</title>

        
    </head>

    <body>
        <div class="post">
            <h1>loading ...</h1>
            <p>loading...</p>
        </div>

        <script>

            async function loadPost(){

                try {
                    const post = await getPost(1)
                    document.querySelector("h1").innerHTML = post.title
                    document.querySelector("p").innerHTML = post.body
                }
                catch(error){
                    alert("could not load post from server")
                }   
            }



            // load post for first time
            loadPost()


            function getPost(id){
                return new Promise(function(resolve, reject){
                    fetch("https://jsonplaceholder.typicode.com/posts/1")
                    .then(function(response){
                        return response.json()
                    })
                    .then(function(post){
                        //return post
                        resolve(post)
                    })
                    .catch(function(error){
                        reject(error)
                    })
                })
            }
        </script>
    </body>
</html>